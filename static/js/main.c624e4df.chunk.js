(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{125:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),o=a(33),r=a.n(o),i=(a(94),a(95),a(17)),c=a(26),l=a.n(c),u=a(36),h=a(6),j=a(7),d=a(10),b=a(9),m=a(22),f=(a(39),a(141)),O=a(142),p=a(83),x=a(147),g=a(140),v="http://34.125.213.243:6060",y="https://archivos-14-p1-2021.s3.us-east-2.amazonaws.com",N="".concat(v,"/Registro"),C="".concat(v,"/Logv2"),S="".concat(v,"/LoginV1"),k="".concat(v,"/LoginV2"),M="".concat(v,"/ConfirmarCuenta"),w="".concat(v,"/MisDatos"),T="".concat(v,"/UpdateNombre"),F="".concat(v,"/UpdateFoto"),U="".concat(v,"/ToggleChatBot"),D="".concat(v,"/Amigos"),P="".concat(v,"/NoAmigos"),I="".concat(v,"/AddFriend"),L="".concat(v,"/SolicitudesAmistad"),E="".concat(v,"/AceptarAmistad"),A="".concat(v,"/RechazarAmistad"),B="".concat(v,"/Publicar"),R="".concat(v,"/Publicaciones"),G="".concat(v,"/TraducirTexto"),J="".concat(v,"/VerChats"),V="".concat(v,"/"),q="".concat(v,"/VerMensajes"),z="".concat(v,"/EnviarMensaje"),Y=("".concat(v,"/usuarios"),"".concat(v,"/getUsuarios"),"".concat(v,"/SubirArchivo")),H=("".concat(v,"/ListaArchivos"),"".concat(v,"/MisArchivosPriv")),W="".concat(v,"/ArchivosPub"),Q="".concat(v,"/ModArchivo"),_="".concat(v,"/DelArchivo"),K="".concat(v,"/DocumentosAmigos"),X=("".concat(y,"/Perfil"),"".concat(y,"/Archivos"),a(42)),Z=a.n(X),$=function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"encriptar",value:function(e){var t=Z.a.enc.Utf8.parse(e),a=Z.a.enc.Utf8.parse(e);return Z.a.AES.encrypt(Z.a.enc.Utf8.parse("patito"),t,{keySize:16,iv:a,mode:Z.a.mode.CBC,padding:Z.a.pad.Pkcs7}).toString()}}]),e}(),ee=a(15),te=a(145),ae=a(1),ne=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleClose=function(){return n.setShow(!1)},n.handleShow=function(){return n.setShow(!0)},n.state={show:!1,mensaje:"",titulo:"",size:e.size,fullscreen:e.fullscreen},n.scrollable=e.scrollable,n}return Object(j.a)(a,[{key:"setShow",value:function(e){this.setState({show:e})}},{key:"setModal",value:function(e,t){this.setState({titulo:e,mensaje:t})}},{key:"render",value:function(){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(te.a,{size:this.state.size,show:this.state.show,onHide:this.handleClose,fullscreen:this.state.fullscreen,scrollable:this.scrollable,children:[Object(ae.jsx)(te.a.Header,{closeButton:!0,children:Object(ae.jsx)(te.a.Title,{children:this.state.titulo})}),Object(ae.jsxs)(te.a.Body,{children:[this.state.mensaje,this.props.children]}),Object(ae.jsx)(te.a.Footer,{children:Object(ae.jsx)(g.a,{variant:"secondary",onClick:this.handleClose,children:"Close"})})]})})}}]),a}(s.a.Component),se=a(82),oe=a.n(se),re=(a(125),function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).refWebcam=s.a.createRef(),n}return Object(j.a)(a,[{key:"takePhoto",value:function(e){e.preventDefault();var t=this.refWebcam.current.getScreenshot();return console.log(t),t}},{key:"render",value:function(){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(f.a,{children:Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{}),Object(ae.jsx)(p.a,{children:Object(ae.jsx)(oe.a,{ref:this.refWebcam,audio:!1,height:250,width:250,screenshotFormat:"image/jpeg",videoConstraints:{width:720,height:720,facingMode:"user"}})}),Object(ae.jsx)(p.a,{})]})})})}}]),a}(s.a.Component)),ie=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={usuario:"",contrasena:"",foto:"",codigo:""},n.encriptador=new $,localStorage.usuario&&""!=localStorage.usuario&&n.props.history.push("/inicio/publicaciones"),n.refCamera=s.a.createRef(),n.refModalCamera=s.a.createRef(),n.refModalVerification=s.a.createRef(),n}return Object(j.a)(a,[{key:"login",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=""==this.state.foto?S:k,fetch("".concat(a),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:this.state.usuario,Password:this.state.contrasena,Imagen:this.state.foto})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje),0===e.Error&&(console.log(e.NoUsuario),localStorage.setItem("usuario",e.NoUsuario),n.props.history.push("/inicio/publicaciones"))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"facialLogin",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.refCamera.current.takePhoto(t),this.setState({foto:a}),this.login(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validateUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),fetch(M,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:this.state.usuario,Codigo:this.state.codigo})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje),console.log(e),a.refModalVerification.current.handleClose()}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showModalFacialLogin",value:function(e){e.preventDefault(),this.refModalCamera.current.setModal("Reconocimiento facial",""),this.refModalCamera.current.handleShow()}},{key:"showModalVerification",value:function(e){e.preventDefault(),this.refModalVerification.current.setModal("Validar usuario",""),this.refModalVerification.current.handleShow()}},{key:"render",value:function(){var e=this;return Object(ae.jsx)("div",{className:"login-component",children:Object(ae.jsxs)(f.a,{className:"col align-self-center",children:[Object(ae.jsx)("br",{}),Object(ae.jsx)("br",{}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(O.a,{className:"",children:[Object(ae.jsx)(p.a,{sm:"2",md:"4"}),Object(ae.jsxs)(p.a,{sm:"8",md:"4",children:[Object(ae.jsxs)(x.a,{onSubmit:this.login.bind(this),children:[Object(ae.jsx)("h3",{children:"Iniciar sesi\xf3n"}),Object(ae.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(ae.jsx)(x.a.Label,{children:"Direcci\xf3n de correo"}),Object(ae.jsx)(x.a.Control,{type:"text",placeholder:"Ingresa tu usuario o correo",required:!0,value:this.state.usuario,onChange:function(t){return e.setState({usuario:t.target.value})}}),Object(ae.jsx)(x.a.Text,{className:"text-muted",children:"No compartiremos tu correo electr\xf3nico con nadie."})]}),Object(ae.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(ae.jsx)(x.a.Label,{children:"Contrase\xf1a"}),Object(ae.jsx)(x.a.Control,{type:"password",placeholder:"Ingresa tu contrase\xf1a",value:this.state.contrasena,onChange:function(t){return e.setState({contrasena:t.target.value})}})]}),Object(ae.jsx)(x.a.Group,{className:"mb-3",children:Object(ae.jsx)(g.a,{variant:"primary",type:"submit",children:"Ingresar"})})]}),Object(ae.jsx)("div",{className:"mb-3",children:Object(ae.jsx)(m.b,{to:{pathname:"/registro"},children:"\xbfNo tienes cuenta? Reg\xedstrate"})}),Object(ae.jsx)("div",{className:"mb-3",children:Object(ae.jsxs)(m.b,{to:"#",onClick:this.showModalFacialLogin.bind(this),children:["Iniciar sesi\xf3n con reconocimiento facial ",Object(ae.jsx)(ee.a,{})," "]})}),Object(ae.jsx)("div",{className:"mb-3",children:Object(ae.jsx)(m.b,{to:"#",onClick:this.showModalVerification.bind(this),children:"Validar mi usuario"})})]}),Object(ae.jsx)(p.a,{sm:"8",md:"4"})]}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsxs)(ne,{size:"md",ref:this.refModalCamera,children:[Object(ae.jsx)(re,{ref:this.refCamera}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{}),Object(ae.jsxs)(p.a,{children:[Object(ae.jsx)("br",{}),Object(ae.jsx)("div",{className:"d-grid",children:Object(ae.jsx)(g.a,{onClick:this.facialLogin.bind(this),size:"lg",children:"Ingresar"})})]}),Object(ae.jsx)(p.a,{})]})]}),Object(ae.jsx)(ne,{size:"md",ref:this.refModalVerification,children:Object(ae.jsx)(O.a,{className:"justify-content-center",children:Object(ae.jsx)(p.a,{className:"justify-content-center",children:Object(ae.jsxs)(x.a,{children:[Object(ae.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(ae.jsx)(x.a.Label,{children:"Ingresa el usuario que deseas validar"}),Object(ae.jsx)(x.a.Control,{type:"text",placeholder:"Ingresa tu usuario",required:!0,value:this.state.usuario,onChange:function(t){return e.setState({usuario:t.target.value})}})]}),Object(ae.jsxs)(x.a.Group,{className:"mb-3",children:[Object(ae.jsx)(x.a.Label,{children:"Ingresar c\xf3digo de verificaci\xf3n que lleg\xf3 a tu correo electr\xf3nico"}),Object(ae.jsx)(x.a.Control,{type:"text",placeholder:"C\xf3digo de verificaci\xf3n",value:this.state.codigo,onChange:function(t){return e.setState({codigo:t.target.value})}})]}),Object(ae.jsx)(x.a.Group,{className:"d-grid mb-3",children:Object(ae.jsx)(g.a,{size:"lg",onClick:this.validateUser.bind(this),children:"Verificar mi usuario"})})]})})})})]})]})})}}]),a}(s.a.Component),ce=a(29),le=a(143),ue=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).form=s.a.createRef(),n.state={active:!1,imageSrc:"",imageName:"",image:[],format:"",loaded:!1},n.onDragEnter=n.onDragEnter.bind(Object(ce.a)(n)),n.onDragLeave=n.onDragLeave.bind(Object(ce.a)(n)),n.onDrop=n.onDrop.bind(Object(ce.a)(n)),n.onFileChange=n.onFileChange.bind(Object(ce.a)(n)),n}return Object(j.a)(a,[{key:"onDragEnter",value:function(e){this.setState({active:!0})}},{key:"onDragLeave",value:function(e){this.setState({active:!1})}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){e.preventDefault(),this.setState({active:!1}),this.onFileChange(e,e.dataTransfer.files[0])}},{key:"onFileChange",value:function(e,t){var a=this;console.log("on-file-change");t=t||e.target.files[0];var n=new FileReader;console.log(t.name),console.log(t.type.split("/")[1]),t.type.match(/image-*/)?(this.setState({loaded:!1}),this.setState({format:t.type.split("/")[1]}),n.onload=function(e){a.setState({imageSrc:n.result,loaded:!0,imageName:t.name})},n.readAsDataURL(t)):alert("Formato inv\xe1lido")}},{key:"getFileName",value:function(){return this.state.imageName}},{key:"getFileObject",value:function(){return this.refs.input.files[0]}},{key:"getFileString",value:function(){return this.state.imageSrc}},{key:"getImageSrc",value:function(){return this.state.imageSrc}},{key:"setImageSrc",value:function(e){this.setState({imageSrc:e})}},{key:"getImageFormat",value:function(){return this.state.format}},{key:"render",value:function(){var e=this.state;this.props;return Object(ae.jsx)("form",{name:"form",ref:this.formRef,id:"form",children:Object(ae.jsxs)("label",{onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop,children:[Object(ae.jsx)(x.a.Group,{children:Object(ae.jsx)(x.a.Control,{type:"file",accept:"image/*",onChange:this.onFileChange,ref:"input"})}),Object(ae.jsx)("br",{}),Object(ae.jsx)(x.a.Group,{children:Object(ae.jsx)(le.a,{src:e.imageSrc,width:"250px",height:"auto"})})]})})}}]),a}(n.Component),he=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={nombre:"",correo:"",usuario:"",contrasena:"",confirmContrasena:"",foto:"",formato:""},n.refFile=s.a.createRef(),n.encriptado=new $,n.refModalCamera=s.a.createRef(),n.refCamera=s.a.createRef(),n}return Object(j.a)(a,[{key:"registrar",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("doing register"),this.state.contrasena===this.state.confirmContrasena){e.next=5;break}return alert("Contrase\xf1as no coinciden"),e.abrupt("return");case 5:""==this.state.foto&&this.setState({foto:this.refFile.current.getImageSrc()}),console.log(this.state.foto),fetch("".concat(N),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({Correo:this.state.correo,Password:this.state.contrasena,UserName:this.state.usuario,Nombre:this.state.nombre,Foto:this.state.foto})}).then((function(e){return e.json()})).then((function(e){console.log(e),alert(e.Mensaje),0===e.Error&&a.props.history.push("/")}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showModalCamera",value:function(e){e.preventDefault(),this.refModalCamera.current.setModal("Reconocimiento facial",""),this.refModalCamera.current.handleShow()}},{key:"takePhoto",value:function(e){e.preventDefault();var t=this.refCamera.current.takePhoto(e);this.setState({foto:t}),this.refFile.current.setImageSrc(t),this.refModalCamera.current.handleClose()}},{key:"render",value:function(){var e=this;return Object(ae.jsx)("div",{className:"register-component",children:Object(ae.jsxs)(f.a,{children:[Object(ae.jsx)("br",{}),Object(ae.jsx)("br",{}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{}),Object(ae.jsx)(p.a,{md:"5",sm:"8",children:Object(ae.jsxs)(x.a,{onSubmit:this.registrar.bind(this),children:[Object(ae.jsx)("h3",{children:"Registrar usuario nuevo"}),Object(ae.jsxs)(x.a.Group,{className:"",children:[Object(ae.jsx)(x.a.Label,{children:"Nombre"}),Object(ae.jsx)(x.a.Control,{require:!0,type:"text",placeholder:"Ingresa tu nombre",value:this.state.nombre,onChange:function(t){return e.setState({nombre:t.target.value})}})]}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(x.a.Group,{className:"",children:[Object(ae.jsx)(x.a.Label,{children:"Correo electr\xf3nico"}),Object(ae.jsx)(x.a.Control,{type:"email",placeholder:"Ingresa tu correo electr\xf3nico",value:this.state.correo,onChange:function(t){return e.setState({correo:t.target.value})}})]}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(x.a.Group,{className:"",children:[Object(ae.jsx)(x.a.Label,{children:"Nombre de usuario"}),Object(ae.jsx)(x.a.Control,{type:"text",placeholder:"Ingresa el nombre de usuario",value:this.state.usuario,onChange:function(t){return e.setState({usuario:t.target.value})}})]}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(x.a.Group,{className:"",children:[Object(ae.jsx)(x.a.Label,{children:"Contrase\xf1a"}),Object(ae.jsx)(x.a.Control,{type:"password",placeholder:"Ingresa tu contrase\xf1a",value:this.state.contrasena,onChange:function(t){return e.setState({contrasena:t.target.value})}})]}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(x.a.Group,{className:"",children:[Object(ae.jsx)(x.a.Label,{children:"Confirmar contrase\xf1a"}),Object(ae.jsx)(x.a.Control,{type:"password",placeholder:"Confirma tu contrase\xf1a",value:this.state.confirmContrasena,onChange:function(t){return e.setState({confirmContrasena:t.target.value})}})]}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(x.a.Group,{className:"",children:[Object(ae.jsx)(x.a.Label,{children:"Subir una fotograf\xeda"}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{xs:12,md:8,children:Object(ae.jsx)(ue,{ref:this.refFile})}),Object(ae.jsx)(p.a,{xs:12,md:4,children:Object(ae.jsx)(g.a,{onClick:this.showModalCamera.bind(this),children:Object(ae.jsx)(ee.a,{})})})]})]}),Object(ae.jsxs)(x.a.Group,{children:[Object(ae.jsx)(x.a.Label,{children:"Al terminar su registro reconoce que acepta las pol\xedtitcas del la aplicaci\xf3n."}),Object(ae.jsx)(g.a,{variant:"primary",type:"submit",children:"Terminar registro"})]}),Object(ae.jsx)("br",{})]})}),Object(ae.jsx)(p.a,{})]}),Object(ae.jsx)(O.a,{children:Object(ae.jsxs)(ne,{size:"md",ref:this.refModalCamera,children:[Object(ae.jsx)(re,{ref:this.refCamera}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{}),Object(ae.jsxs)(p.a,{children:[Object(ae.jsx)("br",{}),Object(ae.jsx)("div",{className:"d-grid",children:Object(ae.jsx)(g.a,{onClick:this.takePhoto.bind(this),size:"lg",children:"Tomar fotograf\xeda"})})]}),Object(ae.jsx)(p.a,{})]})]})})]})})}}]),a}(s.a.Component),je=(a(128),a(129),a(148)),de=a(146),be=a(64),me=[{title:"Inicio",path:"/inicio/publicaciones",icon:Object(ae.jsx)(ee.i,{}),cName:"nav-text"},{title:"Mis amigos",path:"/inicio/amigos",icon:Object(ae.jsx)(be.b,{}),cName:"nav-text"},{title:"Mis mensajes",path:"/inicio/chat",icon:Object(ae.jsx)(ee.m,{}),cName:"nav-text"},{title:"Solicitudes",path:"/inicio/solicitudes",icon:Object(ae.jsx)(ee.l,{}),cName:"nav-text"},{title:"Agregar amigo",path:"/inicio/agregaramigos",icon:Object(ae.jsx)(ee.l,{}),cName:"nav-text"},{title:"Modificar mis datos",path:"/inicio/modificardatos",icon:Object(ae.jsx)(ee.h,{}),cName:"nav-text"}],fe=(a(130),a(0)),Oe=a(150),pe=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).form=s.a.createRef(),n.state={active:!1,loaded:!1,file64:"",fileName:"",format:""},n.onDragEnter=n.onDragEnter.bind(Object(ce.a)(n)),n.onDragLeave=n.onDragLeave.bind(Object(ce.a)(n)),n.onDrop=n.onDrop.bind(Object(ce.a)(n)),n.onFileChange=n.onFileChange.bind(Object(ce.a)(n)),n}return Object(j.a)(a,[{key:"onUpdate",value:function(e){this.props.onUpdate(this.state)}},{key:"onDragEnter",value:function(e){this.setState({active:!0})}},{key:"onDragLeave",value:function(e){this.setState({active:!1})}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){e.preventDefault(),this.setState({active:!1}),this.onFileChange(e,e.dataTransfer.files[0])}},{key:"onFileChange",value:function(e,t){var a=this;console.log("on-file-change");t=t||e.target.files[0];var n=new FileReader;this.setState({format:t.type.split("/")[1]}),n.onload=function(e){a.setState({file64:n.result,loaded:!0,fileName:t.name}),console.log(a.state),a.onUpdate()},n.readAsDataURL(t)}},{key:"getFileName",value:function(){return this.state.fileName}},{key:"getFileObject",value:function(){return this.refs.input.files[0]}},{key:"getFileString",value:function(){return this.state.file64}},{key:"getfile64",value:function(){return this.state.file64}},{key:"getImageFormat",value:function(){return this.state.format}},{key:"render",value:function(){return Object(ae.jsx)("form",{name:"form",ref:this.formRef,id:"form",children:Object(ae.jsxs)("label",{onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop,children:[Object(ae.jsx)(x.a.Group,{children:Object(ae.jsx)(x.a.Control,{type:"file",accept:"*/*",onChange:this.onFileChange,ref:"input"})}),Object(ae.jsx)("br",{})]})})}}]),a}(n.Component),xe=(s.a.Component,a(76)),ge=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={sidebar:!1},n}return Object(j.a)(a,[{key:"showSidebar",value:function(){this.setState({sidebar:!this.state.sidebar})}},{key:"render",value:function(){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(fe.b.Provider,{value:{color:"#fff"},children:[Object(ae.jsx)("div",{className:"",children:Object(ae.jsx)(m.b,{to:"#",className:"menu-bars",children:Object(ae.jsx)(be.a,{onClick:this.showSidebar.bind(this)})})}),Object(ae.jsx)("nav",{className:this.state.sidebar?"nav-menu active":"nav-menu",children:Object(ae.jsxs)("ul",{className:"nav-menu-items",onClick:this.showSidebar.bind(this),children:[Object(ae.jsx)("li",{className:"navbar-toggle",children:Object(ae.jsx)(m.b,{to:"#",className:"menu-bars",children:Object(ae.jsx)(ee.g,{})})}),Object(ae.jsx)("li",{className:"navbar-toggle justify-content-center",children:Object(ae.jsx)(le.a,{width:"75em",height:"75em",src:localStorage.foto})}),me.map((function(e,t){return Object(ae.jsx)("li",{className:e.cName,children:Object(ae.jsxs)(m.b,{to:e.path,children:[e.icon,Object(ae.jsx)("span",{children:e.title})]})},t)})),Object(ae.jsx)("li",{className:"nav-text",children:Object(ae.jsxs)(m.b,{to:"/",onClickCapture:function(){return localStorage.usuario=""},children:[Object(ae.jsx)(xe.a,{}),Object(ae.jsx)("span",{children:"Cerrar sesi\xf3n"})]})})]})})]})})}}]),a}(s.a.Component),ve=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(ae.jsx)(je.a,{className:"yomero",bg:"dark",variant:"dark",expand:"lg",children:Object(ae.jsxs)(f.a,{children:[Object(ae.jsx)(ge,{}),Object(ae.jsx)("a",{children:"---"}),Object(ae.jsx)(de.a,{className:"me-auto",children:Object(ae.jsxs)(de.a.Link,{href:"#",children:["Bienvenido ",localStorage.nombre]})}),Object(ae.jsx)(je.a.Brand,{href:"#",children:"SemiCloud"})]})})}}]),a}(s.a.Component),ye=(a(133),s.a.Component,a(84)),Ne=a(149),Ce=(a(134),function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).rutaArchivo="".concat(y,"/").concat(e.unicName),n}return Object(j.a)(a,[{key:"render",value:function(){return Object(ae.jsx)(f.a,{fluid:"xxl",children:Object(ae.jsx)(O.a,{children:Object(ae.jsx)("frameset",{children:Object(ae.jsx)("frame",{name:"middle",src:this.rutaArchivo,scrolling:"auto"})})})})}}]),a}(s.a.Component)),Se=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={contrasena:"",id:e.id,fileName:e.fileName},n.ecriptador=new $,n}return Object(j.a)(a,[{key:"eliminar",value:function(e){var t=this;e.preventDefault(),fetch("".concat(C),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:localStorage.usuario,Password:this.ecriptador.encriptar(this.state.contrasena)})}).then((function(e){return e.json()})).then((function(e){1===e.Loged?fetch("".concat(_),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({Archivo:t.state.id})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje)})):alert("Contrase\xf1a incorrecta")}))}},{key:"render",value:function(){var e=this;return Object(ae.jsx)(f.a,{children:Object(ae.jsx)(O.a,{children:Object(ae.jsx)(p.a,{children:Object(ae.jsx)("ul",{className:"list-group list-group-flush",children:Object(ae.jsx)("li",{className:"list-group-item",children:Object(ae.jsxs)(x.a,{onSubmit:this.eliminar.bind(this),children:[Object(ae.jsxs)(x.a.Group,{children:[Object(ae.jsxs)(x.a.Label,{as:"thead",children:["Confirma tu contrase\xf1a para eliminar el archivo: ",Object(ae.jsx)("strong",{children:this.state.fileName})]}),Object(ae.jsx)(x.a.Control,{required:!0,type:"password",className:"form-control",id:"exampleInputPassword1",value:this.state.contrasena,onChange:function(t){return e.setState({contrasena:t.target.value})}})]}),Object(ae.jsx)("br",{}),Object(ae.jsx)(x.a.Group,{className:"d-grid",children:Object(ae.jsx)(g.a,{variant:"primary",size:"lg",type:"submit",children:"Eliminar archivo"})})]})})})})})})}}]),a}(s.a.Component),ke=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={fileName:e.fileName,visible:e.visible,id:e.id,contrasena:""},n.encriptado=new $,n}return Object(j.a)(a,[{key:"edditar",value:function(e){var t=this;e.preventDefault(),fetch("".concat(C),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:localStorage.usuario,Password:this.encriptado.encriptar(this.state.contrasena)})}).then((function(e){return e.json()})).then((function(e){1===e.Loged?fetch("".concat(Q),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({Archivo:t.state.id,Nombre:t.state.fileName,Visibilidad:t.state.visible})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje)})):alert("Contrase\xf1a incorrecta")}))}},{key:"render",value:function(){var e=this;return Object(ae.jsx)(f.a,{children:Object(ae.jsxs)(x.a,{onSubmit:this.edditar.bind(this),children:[Object(ae.jsxs)(x.a.Group,{className:"mb-3",children:[Object(ae.jsx)(x.a.Label,{as:"legend",column:!0,children:"Visibilidad"}),Object(ae.jsx)(x.a.Check,{required:!0,type:"radio",label:"Privado",name:"formVisibilidad",checked:!this.state.visible,onChange:function(){return e.setState({visible:!1})}}),Object(ae.jsx)(x.a.Check,{required:!0,type:"radio",label:"P\xfablico",name:"formVisibilidad",checked:this.state.visible,onChange:function(){return e.setState({visible:!0})}})]}),Object(ae.jsxs)(x.a.Group,{children:[Object(ae.jsx)(x.a.Label,{as:"legend",children:"Nombre de archivo"}),Object(ae.jsx)(x.a.Control,{type:"text",value:this.state.fileName,onChange:function(t){return e.setState({fileName:t.target.value})}})]}),Object(ae.jsxs)(x.a.Group,{children:[Object(ae.jsx)(x.a.Label,{as:"legend",children:"Confirmar contrase\xf1a"}),Object(ae.jsx)(x.a.Control,{type:"password",value:this.state.contrasena,onChange:function(t){return e.setState({contrasena:t.target.value})}})]}),Object(ae.jsx)("br",{}),Object(ae.jsx)(Oe.a,{className:"d-grid",children:Object(ae.jsx)(g.a,{size:"lg",type:"submit",children:"Editar archivo"})})]})})}}]),a}(s.a.Component),Me=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={modalToShow:1,fileName:e.fileName,id:e.idf,unicName:e.unicName,format:n.getFormat(e.format),icon:n.getIcon(e.format),visible:e.visible,editable:e.editable,sizeModal:"md"},n.refModalOptions=s.a.createRef(),n.refModalOption=s.a.createRef(),n.refModalView=s.a.createRef(),n}return Object(j.a)(a,[{key:"getFormat",value:function(e){return 1==e?"pdf":2==e?"txt":3==e?"png":"jpeg"}},{key:"getIcon",value:function(e){return 1==e?Object(ae.jsx)(ee.c,{}):2==e?Object(ae.jsx)(ee.d,{}):Object(ae.jsx)(ee.b,{})}},{key:"showOptions",value:function(e){e.preventDefault(),this.refModalOptions.current.setModal("Opciones","\xbfQu\xe9 deseas hacer?"),this.refModalOptions.current.handleShow()}},{key:"showOption",value:function(e){if(e.preventDefault(),"Ver archivo"===e.target.innerText)return this.setState({modalToShow:1}),this.refModalView.current.setModal(e.target.innerText,""),void this.refModalView.current.handleShow();"Editar archivo"===e.target.innerText?this.setState({modalToShow:2}):this.setState({modalToShow:3}),this.refModalOption.current.setModal(e.target.innerText,""),this.refModalOption.current.handleShow()}},{key:"showOptionSelected",value:function(e){return 1==this.state.modalToShow?Object(ae.jsx)(Ce,{fileName:this.state.fileName,id:this.state.id,unicName:this.state.unicName}):2==this.state.modalToShow?Object(ae.jsx)(ke,{fileName:this.state.fileName,id:this.state.id,visible:this.state.visible}):Object(ae.jsx)(Se,{fileName:this.state.fileName+"."+this.state.format,id:this.state.id})}},{key:"showEditionOpions",value:function(){return this.state.editable&&Object(ae.jsx)("h1",{children:"no camino"}),this.state.editable?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(m.b,{to:"/inicio/archivos/editar",className:"btn btn-light btn-block",onClick:this.showOption.bind(this),children:"Editar archivo"}),Object(ae.jsx)(m.b,{to:"/inicio/archivos/eliminar",className:"btn btn-light btn-block",onClick:this.showOption.bind(this),children:"Eliminar archivo"})]}):Object(ae.jsx)(ae.Fragment,{})}},{key:"render",value:function(){return Object(ae.jsxs)(p.a,{auto:!0,children:[Object(ae.jsx)("div",{onClickCapture:this.showOptions.bind(this),children:Object(ae.jsxs)(Ne.a,{style:{width:"7rem",margin:"5%"},children:[Object(ae.jsx)("h1",{children:this.state.icon}),Object(ae.jsx)(Ne.a.Body,{children:Object(ae.jsx)(Ne.a.Text,{children:Object(ae.jsxs)("a",{children:[this.state.fileName,".",this.state.format]})})})]})}),Object(ae.jsx)(ne,{size:"sm",ref:this.refModalOptions,children:Object(ae.jsxs)("div",{className:"d-grid gap-2",children:[Object(ae.jsx)(m.b,{to:"/inicio/archivos/ver",className:"btn btn-light btn-block",onClick:this.showOption.bind(this),children:"Ver archivo"}),this.showEditionOpions()]})}),Object(ae.jsx)(ne,{ref:this.refModalOption,size:"md",children:this.showOptionSelected()}),Object(ae.jsx)(ne,{ref:this.refModalView,fullscreen:!0,children:this.showOptionSelected()})]})}}]),a}(s.a.Component),we=(s.a.Component,a(144)),Te=a(88),Fe=(a(135),a(136),function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={Mensaje:"",Foto:"",NoUsuario:"",NoMensaje:"",NombreDelUsuario:"",Usuario:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.setState({Mensaje:this.props.Mensaje,Foto:this.props.Foto,NoUsuario:this.props.NoUsuario,NoMensaje:"",NombreDelUsuario:"",Usuario:""})}},{key:"getMensaje",value:function(){return this.state.NoUsuario!=localStorage.usuario?Object(ae.jsxs)("div",{class:"d-flex flex-row p-3",children:[Object(ae.jsx)("img",{class:"img-mensaje",src:this.state.Foto,width:"30",height:"30"}),Object(ae.jsx)("div",{class:"chat ml-2 p-3",children:this.state.Mensaje})]}):Object(ae.jsxs)("div",{class:"d-flex flex-row p-3 justify-content-end",children:[Object(ae.jsx)("div",{class:"bg-white mr-2 p-3",children:Object(ae.jsx)("span",{class:"text-muted",children:this.state.Mensaje})}),Object(ae.jsx)("img",{class:"img-mensaje",src:localStorage.foto,width:"30",height:"30"})]})}},{key:"render",value:function(){return this.getMensaje()}}]),a}(s.a.Component)),Ue=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),n=t.call(this,e),console.log(e),n.state={Mensajes:[],Nombre:e.Nombre,NoUsuario:e.NoUsuario,ModoBot:e.ModoBot,Foto:e.Foto,Chat:"",MensajeEnviar:""},n.refModalChat=s.a.createRef(),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getChat()}},{key:"showModal",value:function(e){e.preventDefault(),this.refModalChat.current.setModal(this.state.Nombre,""),this.refModalChat.current.handleShow(),console.log(localStorage.usuario),console.log(this.props.NoUsuario)}},{key:"getChat",value:function(){var e=this;fetch(V,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UsuarioYo:localStorage.usuario,UsuarioDestino:this.props.NoUsuario})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({Chat:1}),e.getMensajes()}))}},{key:"getMensajes",value:function(){var e=this;fetch(q,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({IdChat:this.state.Chat})}).then((function(e){return e.json()})).then((function(t){e.setState({Mensajes:t.Mensajes.sort((function(e,t){return e.NoMensaje>t.NoMensaje?1:t.NoMensaje>e.NoMensaje?-1:0}))}),console.log(e.state.Mensajes)}))}},{key:"postMensaje",value:function(){var e=this;fetch(z,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UsuarioYo:localStorage.usuario,UsuarioDestino:this.state.NoUsuario,Mensaje:this.state.MensajeEnviar})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.getMensajes(),e.setState({MensajeEnviar:""})}))}},{key:"render",value:function(){var e=this;return Object(ae.jsx)(f.a,{children:Object(ae.jsxs)(ne,{ref:this.refModalChat,scrollable:!1,children:[Object(ae.jsx)(O.a,{className:"justify-content-end mb-2",children:Object(ae.jsx)(p.a,{className:"col-2",children:Object(ae.jsx)(g.a,{onClick:this.getMensajes.bind(this),children:Object(ae.jsx)(ee.j,{})})})}),Object(ae.jsx)(O.a,{className:"mb-3",children:Object(ae.jsxs)(we.a,{className:"vertical-scrollable",id:"lista-mensajes",children:[Object(ae.jsx)(Te.a,{className:"mensajes",children:this.state.Mensajes.map((function(e,t){return Object(ae.jsx)(Fe,{Mensaje:e.Mensaje,Foto:e.Foto,NoUsuario:e.NoUsuario},t)}))}),Object(ae.jsx)("div",{id:"soyeldiv"})]})}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{md:"10",sm:"10",xs:"10",children:Object(ae.jsx)(x.a,{children:Object(ae.jsx)(x.a.Control,{type:"text",value:this.state.MensajeEnviar,onChange:function(t){return e.setState({MensajeEnviar:t.target.value})}})})}),Object(ae.jsx)(p.a,{md:"2",sm:"2",xs:"2",children:Object(ae.jsx)(g.a,{variant:"primary",onClick:this.postMensaje.bind(this),children:Object(ae.jsx)(ee.k,{})})})]})]})})}}]),a}(s.a.Component),De=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={nombre:e.nombre,nousuario:e.nousuario,urlFoto:"h"===e.foto[0]?e.foto:"".concat(y,"/").concat(e.foto),modobot:e.modobot||0,accion:e.accion},n.refChat=s.a.createRef(),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){}},{key:"acction",value:function(e){e.preventDefault(),"Agregar amigo"===this.state.accion?(console.log(localStorage.usuario,this.state.nousuario),this.addFriend()):"Chat"==this.state.accion&&this.showChat(e)}},{key:"showChat",value:function(e){e.preventDefault(),this.refChat.current.showModal(e)}},{key:"addFriend",value:function(){var e=this;fetch("".concat(I),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UsuarioYo:localStorage.usuario,UsuarioAmigo:this.state.nousuario})}).then((function(e){return e.json()})).then((function(t){alert(t.Mensaje),console.log(t),e.props.onUpdate(e.state)}))}},{key:"aceptFriend",value:function(){fetch(E,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UsuarioYo:localStorage.usuario,UsuarioAmigo:this.state.nousuario})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje)}))}},{key:"deniFriend",value:function(){fetch(A,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UsuarioYo:localStorage.usuario,UsuarioAmigo:this.state.nousuario})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje)}))}},{key:"buttons",value:function(){return"Aceptar|Rechazar"===this.state.accion?Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{children:Object(ae.jsx)(g.a,{variant:"primary",onClick:this.aceptFriend.bind(this),children:Object(ae.jsx)(ee.f,{})})}),Object(ae.jsx)(p.a,{children:Object(ae.jsx)(g.a,{variant:"primary",onClick:this.deniFriend.bind(this),children:Object(ae.jsx)(ee.e,{})})})]}):Object(ae.jsx)(g.a,{variant:"primary",onClick:this.acction.bind(this),children:this.state.accion})}},{key:"render",value:function(){return Object(ae.jsxs)(p.a,{className:"mb-3",children:[Object(ae.jsxs)(Ne.a,{style:{width:"12rem"},children:[Object(ae.jsx)(Ne.a.Img,{src:this.state.urlFoto,width:"auto",height:"200px"}),Object(ae.jsxs)(Ne.a.Body,{children:[Object(ae.jsx)(Ne.a.Title,{children:this.state.nombre.split(" ")[0]}),Object(ae.jsxs)(Ne.a.Text,{children:["Hola, soy ",this.state.nombre,". Ven, seamos amigos!"]}),this.buttons()]})]}),Object(ae.jsx)(O.a,{children:Object(ae.jsx)(Ue,{ref:this.refChat,NoUsuario:this.state.nousuario,Nombre:this.state.nombre,Foto:this.state.urlFoto,ModoBot:this.state.modobot})})]})}}]),a}(s.a.Component),Pe=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={amigos:[],buscarAmigos:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getFriends()}},{key:"getFriends",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat(D),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({NoUsuario:localStorage.usuario})}).then((function(e){return e.json()})).then((function(e){0===e.Error?t.setState({amigos:e.Gente}):alert("No se puedieron recuperar tus amigos")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(ae.jsx)(f.a,{children:Object(ae.jsx)(O.a,{className:"mb-3 justify-content-center",children:Object(ae.jsxs)(p.a,{sm:"8",md:"8",children:[Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{children:Object(ae.jsx)("h2",{children:"Mis amigos"})}),Object(ae.jsx)(p.a,{children:Object(ae.jsx)(x.a,{className:"d-flex",children:Object(ae.jsx)(ye.a,{type:"search",placeholder:"Buscar amigo",className:"mr-2","aria-label":"Search",value:this.state.buscarAmigos,onChange:function(t){return e.setState({buscarAmigos:t.target.value})}})})})]}),Object(ae.jsx)(O.a,{children:this.state.amigos.filter((function(t){return t.Nombre.includes(e.state.buscarAmigos)})).map((function(e,t){return Object(ae.jsx)(De,{nousuario:e.NoUsuario,nombre:e.Nombre,usuario:e.UserName,foto:e.Foto,modobot:e.ModoBot,accion:"Chat"},t)}))})]})})})}}]),a}(s.a.Component),Ie=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={usuario:e.usuario,nombre:e.nombre,archivos:e.archivos,buscarArchivos:e.buscarArchivos},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(Ne.a.Header,{children:Object(ae.jsxs)("h5",{children:[this.state.usuario," : ",this.state.nombre]})}),Object(ae.jsx)(Ne.a.Body,{children:Object(ae.jsx)(O.a,{children:this.state.archivos.map((function(e){return Object(ae.jsx)(Me,{fileName:e.Nombre,idf:e.Id_Documento,format:e.Tipo,unicName:e.UnicName,visible:!1,editable:!1},e.UnicName)}))})})]})}}]),a}(s.a.Component),Le=(s.a.Component,a(62)),Ee=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={name:"",user:"",modoBot:"",photo:"",password:""},n.refCamera=s.a.createRef(),n.refModalCamera=s.a.createRef(),n.refFile=s.a.createRef(),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.setState({name:localStorage.nombre,user:localStorage.nombreusuario,modoBot:localStorage.modobot,photo:localStorage.foto}),this.refFile.current.setImageSrc(localStorage.foto)}},{key:"showModalCamera",value:function(e){e.preventDefault(),this.refModalCamera.current.setModal("",""),this.refModalCamera.current.handleShow()}},{key:"takePhoto",value:function(e){e.preventDefault();var t=this.refCamera.current.takePhoto(e);this.setState({photo:t}),this.refFile.current.setImageSrc(t),this.refModalCamera.current.handleClose()}},{key:"modificar",value:function(e){e.preventDefault(),fetch(T,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({NoUsuario:localStorage.usuario,UserName:this.state.user,Nombre:this.state.name,Password:this.state.password})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje),console.log(e)})),fetch(F,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({NoUsuario:localStorage.usuario,UserName:this.state.user,Foto:this.state.photo,Password:this.state.password})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje),console.log(e)})),fetch(U,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({NoUsuario:localStorage.usuario,UserName:this.state.user,ModoBot:this.state.modoBot,Password:this.state.password})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje),console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(ae.jsxs)(f.a,{children:[Object(ae.jsx)(O.a,{children:Object(ae.jsx)("h2",{children:"Editar mi informaci\xf3n"})}),Object(ae.jsx)(O.a,{className:"justify-content-center",children:Object(ae.jsx)(p.a,{md:"6",xs:"10",children:Object(ae.jsxs)(x.a,{className:"g-3 row",children:[Object(ae.jsxs)(Le.a,{className:"mb-3",children:[Object(ae.jsx)(x.a.Label,{htmlFor:"name",children:"Nombre completo"}),Object(ae.jsx)(x.a.Control,{className:"col-auto mb-2",type:"text",id:"name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})]}),Object(ae.jsxs)(Le.a,{className:"mb-3",children:[Object(ae.jsx)(x.a.Label,{htmlFor:"usuario",children:"Usuario"}),Object(ae.jsx)(x.a.Control,{type:"text",id:"usuario",value:this.state.user,onChange:function(t){return e.setState({user:t.target.value})}})]}),Object(ae.jsxs)(x.a.Group,{className:"bm-3",children:[Object(ae.jsx)(x.a.Label,{children:"Cambiar foto de perfil"}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{xs:10,md:10,children:Object(ae.jsx)(ue,{ref:this.refFile})}),Object(ae.jsx)(p.a,{xs:2,md:2,children:Object(ae.jsx)(g.a,{onClick:this.showModalCamera.bind(this),children:Object(ae.jsx)(ee.a,{})})})]}),Object(ae.jsx)(O.a,{className:"justify-content-center",children:Object(ae.jsx)(p.a,{md:"4"})})]}),Object(ae.jsxs)(x.a.Group,{className:"mb-3",children:[Object(ae.jsx)(x.a.Label,{children:"Modo del bot para el chat"}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{children:Object(ae.jsx)(x.a.Check,{type:"radio",label:"desactivado",id:"r1",name:"g1",checked:0==this.state.modoBot,onChange:function(){return e.setState({modoBot:0})}})}),Object(ae.jsx)(p.a,{children:Object(ae.jsx)(x.a.Check,{type:"radio",label:"activado",id:"r2",name:"g1",checked:0!=this.state.modoBot,onChange:function(){return e.setState({modoBot:1})}})})]})]}),Object(ae.jsxs)(x.a.Group,{children:[Object(ae.jsx)(x.a.Label,{children:"Confirmar contrase\xf1a"}),Object(ae.jsxs)(O.a,{className:"justify-content-center",children:[Object(ae.jsx)(p.a,{sm:"10",xs:"10",className:"mb-2",children:Object(ae.jsx)(x.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})}),Object(ae.jsx)(p.a,{sm:"2",xs:"10",className:"mb-2",children:Object(ae.jsx)(g.a,{onClick:this.modificar.bind(this),children:"Modificar"})})]})]})]})})}),Object(ae.jsx)(O.a,{children:Object(ae.jsxs)(ne,{size:"md",ref:this.refModalCamera,children:[Object(ae.jsx)(re,{ref:this.refCamera}),Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{}),Object(ae.jsxs)(p.a,{children:[Object(ae.jsx)("br",{}),Object(ae.jsx)("div",{className:"d-grid",children:Object(ae.jsx)(g.a,{onClick:this.takePhoto.bind(this),size:"lg",children:"Tomar fotograf\xeda"})})]}),Object(ae.jsx)(p.a,{})]})]})})]})}}]),a}(s.a.Component),Ae=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={noFriends:[],buscarUsuario:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getNoFriends()}},{key:"getNoFriends",value:function(){var e=this;fetch(P,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({NoUsuario:localStorage.usuario})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({noFriends:t.Gente})}))}},{key:"onFriendUpdate",value:function(){console.log("fiend updated")}},{key:"render",value:function(){var e=this;return Object(ae.jsx)(f.a,{children:Object(ae.jsx)(O.a,{className:"mb-3 justify-content-center",children:Object(ae.jsxs)(p.a,{sm:"8",md:"8",xs:"12",children:[Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{children:Object(ae.jsx)("h2",{children:"Usuarios"})}),Object(ae.jsx)(p.a,{children:Object(ae.jsx)(x.a,{className:"d-flex",children:Object(ae.jsx)(ye.a,{type:"search",placeholder:"Buscar usuario",className:"mr-2","aria-label":"Search",value:this.state.buscarUsuario,onChange:function(t){return e.setState({buscarUsuario:t.target.value})}})})})]}),Object(ae.jsx)(O.a,{children:this.state.noFriends.filter((function(t){return t.Nombre.includes(e.state.buscarUsuario)})).map((function(t){return Object(ae.jsx)(De,{nousuario:t.NoUsuario,nombre:t.Nombre,foto:t.Foto,modobot:t.ModoBot,accion:"Agregar amigo",onUpdate:e.onFriendUpdate.bind(e)},t.NoUsuario)}))})]})})})}}]),a}(s.a.Component),Be=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={amigos:[],buscarAmigos:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getChats()}},{key:"getChats",value:function(){var e=this;fetch(J,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({UsuarioYo:localStorage.usuario})}).then((function(e){return e.json()})).then((function(t){console.log(t),0===t.Error&&e.setState({amigos:t.Chats})}))}},{key:"render",value:function(){var e=this;return Object(ae.jsxs)(f.a,{children:[Object(ae.jsx)(O.a,{children:Object(ae.jsx)("h2",{children:"Chatea con tus amigos"})}),Object(ae.jsx)(O.a,{className:"justify-content-center",children:Object(ae.jsxs)(p.a,{sm:"8",md:"8",children:[Object(ae.jsxs)(O.a,{children:[Object(ae.jsx)(p.a,{children:Object(ae.jsx)("h2",{children:"Mis amigos"})}),Object(ae.jsx)(p.a,{children:Object(ae.jsx)(x.a,{className:"d-flex",children:Object(ae.jsx)(ye.a,{type:"search",placeholder:"Buscar amigo",className:"mr-2","aria-label":"Search",value:this.state.buscarAmigos,onChange:function(t){return e.setState({buscarAmigos:t.target.value})}})})})]}),Object(ae.jsx)(O.a,{}),Object(ae.jsx)(O.a,{children:this.state.amigos.filter((function(t){return t.NombreUsuario2.includes(e.state.buscarAmigos)})).map((function(e,t){return Object(ae.jsx)(De,{nousuario:e.NoUsuario2,nombre:e.NombreUsuario2,usuario:e.UserNameUsuario2,foto:e.FotoUsuario2,modobot:e.ModoBot,accion:"Chat"},t)}))})]})})]})}}]),a}(s.a.Component),Re=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={friendRequests:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getFriendRequest()}},{key:"getFriendRequest",value:function(){var e=this;fetch(L,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({NoUsuario:localStorage.usuario})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({friendRequests:t.Gente})}))}},{key:"onFriendUpdate",value:function(e){}},{key:"render",value:function(){var e=this;return Object(ae.jsx)(f.a,{children:Object(ae.jsx)(O.a,{className:"justify-content-center",children:Object(ae.jsxs)(p.a,{md:"8",xs:"10",children:[Object(ae.jsx)(O.a,{children:Object(ae.jsx)("h2",{children:"Solicitudes de amistad"})}),Object(ae.jsx)(O.a,{children:this.state.friendRequests.map((function(t){return Object(ae.jsx)(De,{nousuario:t.NoUsuario,nombre:t.Nombre,foto:t.Foto,modobot:t.ModoBot,accion:"Aceptar|Rechazar",onUpdate:e.onFriendUpdate.bind(e)},t.NoUsuario)}))})]})})})}}]),a}(s.a.Component),Ge=(a(137),function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={NoPublicacion:"",Texto:"",Traduccion:"",Imagen:"",Etiquetas:"",Fecha:"",NoUsuario:"",Nombre:"",Foto:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.setState({NoPublicacion:this.props.NoPublicacion,Texto:this.props.Texto,Traduccion:"",Imagen:this.props.Imagen,Etiquetas:this.props.Etiquetas,Fecha:this.props.Fecha,NoUsuario:this.props.NoUsuario,Nombre:this.props.Nombre,Foto:this.props.Foto})}},{key:"translate",value:function(e){var t=this;e.preventDefault(),fetch(G,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({Texto:this.state.Texto})}).then((function(e){return e.json()})).then((function(e){t.setState({Traduccion:e.Texto})}))}},{key:"render",value:function(){return Object(ae.jsx)(f.a,{className:"mb-5",children:Object(ae.jsx)(O.a,{className:"justify-content-center",children:Object(ae.jsx)(p.a,{md:"6",sm:"8",children:Object(ae.jsxs)(Ne.a,{children:[Object(ae.jsxs)(Ne.a.Header,{children:[Object(ae.jsx)(Ne.a.Img,{src:this.state.Foto,id:"foto-perfil-publicacion"}),Object(ae.jsx)("strong",{className:"header-text",children:this.state.Nombre})]}),Object(ae.jsxs)(Ne.a.Body,{children:[Object(ae.jsx)(Ne.a.Text,{children:this.state.Texto}),Object(ae.jsx)(O.a,{className:"tex-left",children:Object(ae.jsx)(Ne.a.Link,{onClick:this.translate.bind(this),children:"Traducir"})}),Object(ae.jsx)(Ne.a.Text,{children:Object(ae.jsx)("i",{children:this.state.Traduccion})}),this.state.Etiquetas.split(",").map((function(e,t){return Object(ae.jsxs)(Ne.a.Link,{children:["#",e," "]},t)})),Object(ae.jsx)(Ne.a.Img,{variant:"bottom",src:this.state.Imagen})]})]})})})})}}]),a}(s.a.Component)),Je=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={Texto:""},n.refImagen=s.a.createRef(),n}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(){console.log("componenete actualizado")}},{key:"translate",value:function(e){e.preventDefault(),this.setState({Traduccion:"Contenido de la publicaci\xf3n, puede ser cualquier tipo de texto, sin importar el tama\xf1o sin importar las palabras o el idioma."})}},{key:"publish",value:function(e){var t=this;e.preventDefault(),fetch(B,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({Texto:this.state.Texto,Imagen:this.refImagen.current.getImageSrc(),Usuario:localStorage.usuario})}).then((function(e){return e.json()})).then((function(e){alert(e.Mensaje),0===e.Error&&(t.setState({Texto:""}),t.refImagen.current.setImageSrc(""),t.props.onUpdate(t.state))}))}},{key:"render",value:function(){var e=this;return Object(ae.jsx)(f.a,{className:"mb-3 mt-4",children:Object(ae.jsx)(O.a,{className:"justify-content-center",children:Object(ae.jsxs)(p.a,{md:"8",sm:"10",children:[Object(ae.jsx)(O.a,{children:Object(ae.jsx)("h2",{children:"Escribe algo para tus amigos"})}),Object(ae.jsxs)(x.a,{className:"justify-content-start",children:[Object(ae.jsx)(x.a.Control,{className:"mb-3",as:"textarea",placeholder:"\xbfQu\xe9 est\xe1s pensando?",id:"publicar",name:"publicar",maxLength:"255",value:this.state.Texto,onChange:function(t){return e.setState({Texto:t.target.value})}}),Object(ae.jsxs)(O.a,{className:"justify-content-end",children:[Object(ae.jsx)(p.a,{md:"8",sm:"8",children:Object(ae.jsx)(ue,{ref:this.refImagen})}),Object(ae.jsx)(p.a,{md:"4",sm:"4",children:Object(ae.jsx)(g.a,{className:"btn btn-pimary",onClick:this.publish.bind(this),children:"Publicar"})})]})]})]})})})}}]),a}(s.a.Component),Ve=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={publications:[],buscarTag:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getPublications()}},{key:"getPublications",value:function(){var e=this;fetch(R,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({publications:t.Publicaciones})}))}},{key:"onPublisherUpdated",value:function(e){console.log("publsher dice que se actualiz\xf3"),this.getPublications()}},{key:"render",value:function(){var e=this;return Object(ae.jsxs)(f.a,{children:[Object(ae.jsx)(O.a,{children:Object(ae.jsx)(Je,{onUpdate:this.onPublisherUpdated.bind(this)})}),Object(ae.jsx)(O.a,{className:"justify-content-end",children:Object(ae.jsx)(p.a,{md:"6",sm:"6",children:Object(ae.jsx)(x.a,{className:"d-flex mb-5",children:Object(ae.jsx)(ye.a,{type:"search",placeholder:"Buscar etiquetas",className:"mr-2","aria-label":"Search",value:this.state.buscarTag,onChange:function(t){return e.setState({buscarTag:t.target.value})}})})})}),Object(ae.jsx)(O.a,{children:this.state.publications.filter((function(t){return t.Etiquetas.toLowerCase().includes(e.state.buscarTag.toLowerCase())})).map((function(e){return Object(ae.jsx)(Ge,{NoPublicacion:e.NoPublicacion,Texto:e.Texto,Imagen:e.Imagen,Etiquetas:e.Etiquetas,Fecha:e.Fecha,NoUsuario:e.NoUsuario,Nombre:e.Nombre,Foto:e.Foto},e.NoPublicacion)}))})]})}}]),a}(s.a.Component),qe=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),n=t.call(this,e),localStorage.usuario||(alert("debes loguarte"),n.props.history.push("/")),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"bot",value:function(e,t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://widget.kommunicate.io/v2/kommunicate.app",document.getElementsByTagName("head")[0].appendChild(a),window.kommunicate=t,t._globals={appId:"d68289ec0383cac7184a60f1a6fe2ee7",popupWidget:!0,automaticChatOpenOnNavigation:!0}}},{key:"getUserData",value:function(){var e=this;fetch(w,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({NoUsuario:localStorage.usuario})}).then((function(e){return e.json()})).then((function(t){console.log(t),localStorage.nombreusuario=t.Datos.UserName,localStorage.nombre=t.Datos.Nombre,localStorage.correo=t.Datos.Correo,localStorage.foto=t.Datos.Foto,localStorage.modobot=t.Datos.ModoBot,1===t.Datos.ModoBot&&e.bot(document,window.kommunicate||{})}))}},{key:"irArchivos",value:function(e){this.props.history.push("/inicio/archivos")}},{key:"render",value:function(){return Object(ae.jsxs)("div",{className:"home-component",children:[Object(ae.jsx)(ve,{}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(f.a,{children:[Object(ae.jsx)(O.a,{children:Object(ae.jsx)(p.a,{children:Object(ae.jsxs)(i.c,{children:[Object(ae.jsx)(i.a,{exact:!0,path:"/inicio/amigos",component:function(){return Object(ae.jsx)(Pe,{})}}),Object(ae.jsx)(i.a,{exact:!0,path:"/inicio/solicitudes",component:function(){return Object(ae.jsx)(Re,{})}}),Object(ae.jsx)(i.a,{exact:!0,path:"/inicio/modificardatos",component:function(){return Object(ae.jsx)(Ee,{})}}),Object(ae.jsx)(i.a,{exact:!0,path:"/inicio/chat",component:function(){return Object(ae.jsx)(Be,{})}}),Object(ae.jsx)(i.a,{exact:!0,path:"/inicio/agregaramigos",component:function(){return Object(ae.jsx)(Ae,{})}}),Object(ae.jsx)(i.a,{exact:!0,path:"/inicio/publicaciones",component:function(){return Object(ae.jsx)(Ve,{})}})]})})}),Object(ae.jsx)("br",{})]})]})}}]),a}(s.a.Component),ze=function(){return Object(ae.jsxs)(i.c,{children:[Object(ae.jsx)(i.a,{exact:!0,path:"/",component:ie}),Object(ae.jsx)(i.a,{exact:!0,path:"/registro",component:he}),Object(ae.jsx)(i.a,{path:"/inicio",component:qe}),Object(ae.jsx)(i.a,{path:"/test",component:Fe})]})};var Ye=function(){return Object(ae.jsx)("div",{className:"App",children:Object(ae.jsx)(ze,{})})},He=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,151)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),o(e),r(e)}))};r.a.render(Object(ae.jsx)(m.a,{children:Object(ae.jsx)(Ye,{})}),document.getElementById("root")),He()},94:function(e,t,a){},95:function(e,t,a){},97:function(e,t){}},[[138,1,2]]]);
//# sourceMappingURL=main.c624e4df.chunk.js.map